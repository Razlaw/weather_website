{"version":3,"sources":["assets/magnifying_glass.svg","components/citySearchBar/CitySearchBar.jsx","components/hourOfDayListItem/HourOfDayListItem.jsx","components/plotForADay/PlotForADay.jsx","components/weatherForecastForADay/WeatherForecastForADay.jsx","components/weatherForecastForAWeek/WeatherForecastForAWeek.jsx","App.jsx","index.js"],"names":["_g","_excluded","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgMagnifyingGlass","_ref","svgRef","title","titleId","props","id","width","height","viewBox","xmlns","ref","stroke","cx","cy","rx","ry","fill","strokeLinecap","strokeLinejoin","strokeWidth","d","ForwardRef","CitySearchBar","cityName","updateCityName","reloadWeather","className","onSubmit","onChange","e","value","placeholder","type","autoFocus","HourOfDayListItem","time","active","PlotForADay","currentHour","weatherData","ResponsiveContainer","BarChart","layout","data","margin","top","right","bottom","left","XAxis","Legend","Bar","dataKey","barSize","map","entry","index","Cell","WeatherForecastForADay","dayToDisplay","Date","getHours","Array","x","hourOfDay","WeatherForecastForAWeek","href","App","useCookies","cookies","setCookie","removeCookie","useState","updateWeatherData","a","preventDefault","fetchWeather","axios","get","process","currentWeather","lat","coord","lon","forecast","path","secure","sameSite","console","log","response","error","useEffect","undefined","hourly","slice","ReactDOM","render","CookiesProvider","document","getElementById"],"mappings":"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","file":"static/js/main.2571792d.chunk.js","sourcesContent":["var _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgMagnifyingGlass(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"SVGRoot\",\n    width: \"16px\",\n    height: \"16px\",\n    viewBox: \"0 0 16 16\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    stroke: \"#000\"\n  }, /*#__PURE__*/React.createElement(\"ellipse\", {\n    cx: 5.6727,\n    cy: 5.7476,\n    rx: 3.0967,\n    ry: 3.1013,\n    fill: \"none\",\n    strokeLinecap: \"square\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 1.7101\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m9.2387 9.2405 3.7161 3.7215\",\n    fill: \"none\",\n    strokeWidth: 1.6549\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m9.2387 10.481-1.2387-2.481 2.4774 1.2405z\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 0.46851\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgMagnifyingGlass);\nexport default __webpack_public_path__ + \"static/media/magnifying_glass.7b20c50e.svg\";\nexport { ForwardRef as ReactComponent };","import \"./citySearchBar.scss\";\r\nimport {ReactComponent as MagnifyingGlassIcon} from '../../assets/magnifying_glass.svg';\r\n\r\nexport default function CitySearchBar({cityName, updateCityName, reloadWeather}) {\r\n    return (\r\n        <div className=\"citySearchBar\">\r\n            <form onSubmit={reloadWeather}>\r\n                <div className=\"formComponents\">\r\n                    <input\r\n                        onChange={(e) => updateCityName(e.target.value)}\r\n                        placeholder={cityName === \"\" ? \"City\" : cityName}\r\n                        type=\"text\"\r\n                        id=\"cityNameInput\"\r\n                        autoFocus\r\n                    />\r\n                    <button type=\"submit\">\r\n                        <MagnifyingGlassIcon className=\"magnifyingGlassIcon\"/>\r\n                    </button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n}","import \"./hourOfDayListItem.scss\"\r\n\r\nexport default function HourOfDayListItem({time, active}) {\r\n    return (\r\n        <li\r\n            className={active ? \"hourOfDayListItem active\" : \"hourOfDayListItem\"}\r\n        >\r\n            {time}:00\r\n        </li>\r\n    );\r\n}","import \"./plotForADay.scss\";\r\nimport React from 'react';\r\nimport {\r\n    ComposedChart,\r\n    Cell,\r\n    Area,\r\n    Bar,\r\n    XAxis,\r\n    YAxis,\r\n    CartesianGrid,\r\n    BarChart,\r\n    Legend,\r\n    ResponsiveContainer,\r\n} from 'recharts';\r\n\r\n// const data = [\r\n//     {\r\n//         name: 'Page A',\r\n//         uv: 590,\r\n//         pv: 800,\r\n//         amt: 1400,\r\n//     },\r\n//     {\r\n//         name: 'Page B',\r\n//         uv: 868,\r\n//         pv: 967,\r\n//         amt: 1506,\r\n//     },\r\n//     {\r\n//         name: 'Page C',\r\n//         uv: 1397,\r\n//         pv: 1098,\r\n//         amt: 989,\r\n//     },\r\n//     {\r\n//         name: 'Page D',\r\n//         uv: 1480,\r\n//         pv: 1200,\r\n//         amt: 1228,\r\n//     },\r\n//     {\r\n//         name: 'Page E',\r\n//         uv: 1520,\r\n//         pv: 1108,\r\n//         amt: 1100,\r\n//     },\r\n//     {\r\n//         name: 'Page F',\r\n//         uv: 1400,\r\n//         pv: 680,\r\n//         amt: 1700,\r\n//     },\r\n// ];\r\n\r\nexport default function PlotForADay({currentHour, weatherData}) {\r\n\r\n    return (\r\n        <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n            <BarChart layout=\"vertical\" width={150} height={40} data={weatherData} margin={{\r\n                top: 20,\r\n                right: 20,\r\n                bottom: 20,\r\n                left: 20,\r\n            }}>\r\n                <XAxis type=\"number\" />\r\n                <Legend/>\r\n                <Bar dataKey=\"temp\" barSize={20}>\r\n                    {weatherData.map((entry, index) => (\r\n                        <Cell fill={index === currentHour ? '#82ca9d' : '#8884d8'} key={`cell-${index}`} />\r\n                    ))}\r\n                </Bar>\r\n            </BarChart>\r\n        </ResponsiveContainer>\r\n    );\r\n}\r\n","import \"./weatherForecastForADay.scss\";\r\nimport HourOfDayListItem from \"../hourOfDayListItem/HourOfDayListItem\";\r\nimport React from \"react\";\r\nimport PlotForADay from \"../plotForADay/PlotForADay\";\r\n\r\nexport default function WeatherForecastForADay({dayToDisplay, weatherData}) {\r\n    const today = new Date();\r\n    const currentHour = today.getHours();\r\n\r\n    return (\r\n        <div className=\"weatherForecastForADay\">\r\n            <div className=\"contentContainer\">\r\n                <div className=\"dayDisplay\">\r\n                    <h1>\r\n                        {dayToDisplay}\r\n                    </h1>\r\n                </div>\r\n                <div className=\"forecast\">\r\n                    <div className=\"hoursOfDay\">\r\n                        <ul>\r\n                            {[...Array(24)].map((x, hourOfDay) =>\r\n                                <HourOfDayListItem\r\n                                    key={hourOfDay}\r\n                                    time={hourOfDay}\r\n                                    active={currentHour === hourOfDay}\r\n                                />\r\n                            )}\r\n                        </ul>\r\n                    </div>\r\n                    <div className=\"forecastPlot\">\r\n                        <PlotForADay currentHour={currentHour} weatherData={weatherData}/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import \"./weatherForecastForAWeek.scss\";\r\nimport React from \"react\";\r\n\r\nexport default function WeatherForecastForAWeek({cityName, weatherData}) {\r\n    return (\r\n        <div className=\"weatherForecastForAWeek\">\r\n            <div className=\"contentContainer\">\r\n                <h1>\r\n                    Forecast for a week\r\n                </h1>\r\n            </div>\r\n            <div className=\"footer\">\r\n                <span>\r\n                    The weather data displayed on this website is provided by\r\n                    <a href=\"https://openweathermap.org\"> OpenWeather (TM)</a> under the\r\n                    <a href=\"https://creativecommons.org/licenses/by-sa/4.0/\"> Creative Commons Attribution-ShareAlike 4.0 International licence (CC BY-SA 4.0)</a>.\r\n                    Data and database are open and licensed by <a href=\"https://opendatacommons.org/licenses/odbl/\"> Open Data Commons Open Database License (ODbL)</a>.\r\n                </span>\r\n            </div>\r\n        </div>\r\n    );\r\n}","import \"./app.scss\";\r\nimport React, {useEffect, useState} from \"react\";\r\nimport axios from \"axios\";\r\nimport {useCookies} from 'react-cookie';\r\nimport CitySearchBar from \"./components/citySearchBar/CitySearchBar\";\r\nimport WeatherForecastForADay from \"./components/weatherForecastForADay/WeatherForecastForADay\";\r\nimport WeatherForecastForAWeek from \"./components/weatherForecastForAWeek/WeatherForecastForAWeek\";\r\n\r\nfunction App() {\r\n    const [cookies, setCookie, removeCookie] = useCookies(['cityName']);\r\n\r\n    const [cityName, updateCityName] = useState(cookies.cityName ? cookies.cityName : \"\");\r\n    const [weatherData, updateWeatherData] = useState();\r\n\r\n    const reloadWeather = async (e) => {\r\n        e.preventDefault();\r\n        await fetchWeather();\r\n    };\r\n\r\n    /* Fetch weather forecast from OpenWeatherMap (OWM)\r\n    *\r\n    * If fetch is successful, the current city name is saved in the cookies, so the user doesn't need to specify\r\n    * it again on reload.\r\n    * Otherwise the city name entry in the cookies is removed and the forecast data is deleted to show the user\r\n    * that the forecast is not available.\r\n    */\r\n    const fetchWeather = async () => {\r\n        try {\r\n            // Since OWM one call api accepts latitude and longitude coordinates only, we first fetch the current\r\n            // weather - containing the coordinates - using the city name and fetch the forecast using the coordinates.\r\n            const currentWeather = await axios.get(`https://api.openweathermap.org/data/2.5/weather?q=${cityName}&appid=${process.env.REACT_APP_API_KEY}`);\r\n            const lat = currentWeather.data.coord.lat;\r\n            const lon = currentWeather.data.coord.lon;\r\n            const exclude = \"current,minutely,alerts\"\r\n            const forecast = await axios.get(`https://api.openweathermap.org/data/2.5/onecall?lat=${lat}&lon=${lon}&units=metric&exclude=${exclude}&appid=${process.env.REACT_APP_API_KEY}`);\r\n            setCookie('cityName', cityName, {path: '/', secure: true, sameSite: \"strict\"});\r\n            console.log(forecast)\r\n            updateWeatherData(forecast.data);\r\n        } catch (error) {\r\n            console.log(\"Failed to fetch weather data\");\r\n            console.log(error.response.data.error);\r\n            removeCookie(\"cityName\", {path: '/', secure: true, sameSite: \"strict\"});\r\n            updateWeatherData();\r\n        }\r\n    };\r\n\r\n    // Fetch weather on first render if city name already defined in cookies\r\n    useEffect(() => {\r\n        if (cookies.cityName) {\r\n            fetchWeather();\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"App\">\r\n            <div className=\"websiteContent\">\r\n                <CitySearchBar cityName={cityName} updateCityName={updateCityName} reloadWeather={reloadWeather}/>\r\n                {weatherData === undefined ? (\r\n                    <div className=\"noData\">\r\n                        <h1>No weather data to display.</h1>\r\n                        <h1>Try another city.</h1>\r\n                    </div>\r\n                ) : (\r\n                    <div className=\"sections\">\r\n                        <WeatherForecastForADay dayToDisplay=\"Today\" weatherData={weatherData.hourly.slice(0, 24)}/>\r\n                        <WeatherForecastForADay dayToDisplay=\"Tomorrow\" weatherData={weatherData.hourly.slice(24, 48)}/>\r\n                        <WeatherForecastForAWeek cityName={cookies.cityName} weatherData={weatherData}/>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","import ReactDOM from \"react-dom\";\nimport 'semantic-ui-css/semantic.min.css';\nimport {CookiesProvider} from 'react-cookie';\n\nimport App from \"./App\";\n\nReactDOM.render(\n    <CookiesProvider>\n        <App/>\n    </CookiesProvider>,\n    document.getElementById(\"root\")\n);\n"],"sourceRoot":""}