(this.webpackJsonpweather_website=this.webpackJsonpweather_website||[]).push([[0],{32:function(e,t,r){},33:function(e,t,r){},35:function(e,t,r){},36:function(e,t,r){},37:function(e,t,r){},38:function(e,t,r){},39:function(e,t,r){},40:function(e,t,r){},59:function(e,t,r){"use strict";r.r(t);var n,a=r(24),o=r.n(a),i=(r(30),r(60)),s=r(6),c=r(3),l=r(4),u=r.n(l),d=(r(32),r(0)),h=r.n(d),f=r(61),p=(r(33),["title","titleId"]);function m(){return m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m.apply(this,arguments)}function y(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function b(e,t){var r=e.title,a=e.titleId,o=y(e,p);return d.createElement("svg",m({id:"SVGRoot",width:"16px",height:"16px",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},o),r?d.createElement("title",{id:a},r):null,n||(n=d.createElement("g",{stroke:"#000"},d.createElement("ellipse",{cx:5.6727,cy:5.7476,rx:3.0967,ry:3.1013,fill:"none",strokeLinecap:"square",strokeLinejoin:"round",strokeWidth:1.7101}),d.createElement("path",{d:"m9.2387 9.2405 3.7161 3.7215",fill:"none",strokeWidth:1.6549}),d.createElement("path",{d:"m9.2387 10.481-1.2387-2.481 2.4774 1.2405z",strokeLinejoin:"round",strokeWidth:.46851}))))}var j=d.forwardRef(b),O=(r.p,r(1));function v(e){var t=e.cityName,r=e.updateCityName,n=e.reloadWeather;return Object(O.jsx)("div",{className:"citySearchBar",children:Object(O.jsx)("form",{onSubmit:n,children:Object(O.jsxs)("div",{className:"formComponents",children:[Object(O.jsx)("input",{onKeyUp:function(e){"Enter"===e.key&&e.target.blur()},onChange:function(e){return r(e.target.value)},placeholder:""===t?"City":t,type:"text",id:"cityNameInput",autoFocus:!0}),Object(O.jsx)("button",{type:"submit",children:Object(O.jsx)(j,{className:"magnifyingGlassIcon"})})]})})})}var w=r(8);r(35),r(36);function g(e){var t=e.time,r=e.active,n=e.sunrise,a=e.sunset,o="hourOfDayListItem";return o=r?o+" active":o,o=t<n||t>a?o+" night":o+" day",o=t===n||t===a?o+" twilight":o,Object(O.jsx)("li",{className:o,children:Object(O.jsxs)("span",{children:[t,":00"]})})}r(37),r(38);function x(e,t,r){var n=e.canvas;e.save(),e.clearRect(0,0,n.width,n.height);var a=new Path2D(function(e,t,r,n){for(var a="M 0,0 ",o=Number.MAX_VALUE,i=-Number.MAX_VALUE,s=0;s<e.length;s++)o=Math.min(o,e[s][t]),i=Math.max(i,e[s][t]);o-=Math.max(2,.2*(i-o));for(var c=r/Math.max(10,i-o),l=n/24,u=0;u<e.length;u++)a+="H "+((e[u][t]-o)*c).toString()+" ",a+="v "+l.toString()+" ";return a+"L 0,"+(e.length*l).toString()+" z"}(t,r,n.width,n.height));e.restore(),e.save(),e.restore(),e.save(),e.clip(a),e.lineWidth=5,e.strokeStyle="rgba(255, 255, 255, 1)",e.stroke(a),e.restore()}function k(e){var t=e.data,r=e.dataKey,n=0===e.dayID?"Today":"Tomorrow",a=r.toString()+n,o=h.a.useRef();return h.a.useEffect((function(){var e=o.current.getContext("2d");requestAnimationFrame((function(){return x(e,t,r)}));var n=function(n){var o=document.getElementById(a);e.canvas.height=o.offsetHeight,e.canvas.width=o.offsetWidth,x(e,t,r)};return n(),window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)}}),[]),h.a.useEffect((function(){x(o.current.getContext("2d"),t,r)}),[t]),Object(O.jsx)("div",{className:"canvasContainer",id:a,children:Object(O.jsx)("canvas",{id:"canvas",ref:o})})}var E;r(39);function S(e){var t=e.data,r=e.time,n=e.active,a=e.sunrise,o=e.sunset,i="dataListItem";return i=n?i+" active":i,i=r<a||r>o?i+" night":i+" day",i=r===a||r===o?i+" twilight":i,Object(O.jsx)("li",{className:i,children:Object(O.jsx)("span",{children:t})})}var C=["title","titleId"];function D(){return D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},D.apply(this,arguments)}function N(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function I(e,t){var r=e.title,n=e.titleId,a=N(e,C);return d.createElement("svg",D({id:"SVGRoot",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),r?d.createElement("title",{id:n},r):null,d.createElement("defs",null,d.createElement("linearGradient",{id:"linearGradient1407",x1:9.6003,x2:6.8909,y1:.92964,y2:14.12,gradientTransform:"matrix(1.0567 0 0 1.0567 -.1002 -.54263)",gradientUnits:"userSpaceOnUse"},E||(E=d.createElement("stop",{stopColor:"#fff703",offset:0})),d.createElement("stop",{stopColor:"#ff9d03",style:{stopColor:"#ffba03"},offset:1})),d.createElement("linearGradient",{id:"linearGradient1464",x1:9.7033,x2:6.8973,y1:.78426,y2:14.425,gradientTransform:"matrix(1.0567 0 0 1.0567 -.1002 -.54263)",gradientUnits:"userSpaceOnUse"},d.createElement("stop",{stopColor:"#fff703",style:{stopColor:"#ffeb03"},offset:0}),d.createElement("stop",{stopColor:"#ff9d03",style:{stopColor:"#ffc603"},offset:1}))),d.createElement("g",{style:{stroke:"url(#linearGradient1407)"}},d.createElement("g",{style:{stroke:"url(#linearGradient1464)"}},d.createElement("path",{d:"m5.6575 10.164a3.2257 3.2257 0 0 1-0.50894-3.7257 3.2257 3.2257 0 0 1 3.3659-1.6764 3.2257 3.2257 0 0 1 2.6669 2.6509 3.2257 3.2257 0 0 1-1.6562 3.3759",style:{fill:"none",strokeLinecap:"round",strokeWidth:1.5,stroke:"url(#linearGradient1464)"}}),d.createElement("path",{d:"m11.413 13.284 0.3205 0.49871",style:{fill:"none",strokeLinecap:"round",strokeWidth:1.5,stroke:"url(#linearGradient1464)"}}),d.createElement("path",{d:"m14.195 9.2001 0.47167 0.093357",style:{fill:"none",strokeLinecap:"round",strokeWidth:1.5,stroke:"url(#linearGradient1464)"}}),d.createElement("path",{d:"m2.7224 11.482-0.45254 0.30119",style:{fill:"none",strokeLinecap:"round",strokeWidth:1.5,stroke:"url(#linearGradient1464)"}}),d.createElement("path",{d:"m7.4029 11.775-0.13444 0.563",style:{fill:"none",strokeLinecap:"round",strokeWidth:1.5,stroke:"url(#linearGradient1464)"}}),d.createElement("path",{d:"m1.2873 6.4551 0.53279 0.12057",style:{fill:"none",strokeLinecap:"round",strokeWidth:1.5,stroke:"url(#linearGradient1464)"}}),d.createElement("path",{d:"m13.72 4.1626-0.45696 0.30413",style:{fill:"none",strokeLinecap:"round",strokeWidth:1.5,stroke:"url(#linearGradient1464)"}}),d.createElement("path",{d:"m4.4848 2.6989-0.30021-0.45107",style:{fill:"none",strokeLinecap:"round",strokeWidth:1.5,stroke:"url(#linearGradient1464)"}}),d.createElement("path",{d:"m9.3942 1.7904 0.11881-0.52502",style:{fill:"none",strokeLinecap:"round",strokeWidth:1.5,stroke:"url(#linearGradient1464)"}}))))}var T,G=d.forwardRef(I),L=(r.p,["title","titleId"]);function P(){return P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P.apply(this,arguments)}function M(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _(e,t){var r=e.title,n=e.titleId,a=M(e,L);return d.createElement("svg",P({id:"SVGRoot",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t,"aria-labelledby":n},a),r?d.createElement("title",{id:n},r):null,d.createElement("defs",null,d.createElement("linearGradient",{id:"linearGradient1407",x1:9.6003,x2:6.8909,y1:.92964,y2:14.12,gradientTransform:"matrix(1.0567 0 0 1.0567 -.1002 -.54263)",gradientUnits:"userSpaceOnUse"},T||(T=d.createElement("stop",{stopColor:"#fff703",offset:0})),d.createElement("stop",{stopColor:"#ff9d03",style:{stopColor:"#ffba03"},offset:1})),d.createElement("linearGradient",{id:"linearGradient1535",x1:8.872,x2:8.8739,y1:13.459,y2:2.8606,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{style:{stopColor:"#a2a2a2"},offset:0}),d.createElement("stop",{style:{stopColor:"#ffffff"},offset:1}))),d.createElement("g",{style:{stroke:"url(#linearGradient1407)"}},d.createElement("g",{style:{stroke:"url(#linearGradient1535)"}},d.createElement("path",{d:"m8.9382 8.1798a3.2257 3.2257 0 0 1 3.9813-1.6243 3.2257 3.2257 0 0 1 2.0583 3.7752 3.2257 3.2257 0 0 1-3.522 2.4667",style:{fill:"none",strokeLinecap:"round",strokeWidth:1.5,stroke:"url(#linearGradient1535)"}}),d.createElement("path",{d:"m6.0541 12.738a4.6314 4.6314 0 0 1-4.9318-3.7941 4.6314 4.6314 0 0 1 3.2952-5.2782 4.6314 4.6314 0 0 1 5.5743 2.765",style:{fill:"none",strokeLinecap:"round",strokeWidth:1.5,stroke:"url(#linearGradient1535)"}}))))}var U=d.forwardRef(_),W=(r.p,["title","titleId"]);function H(){return H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H.apply(this,arguments)}function F(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function A(e,t){var r=e.title,n=e.titleId,a=F(e,W);return d.createElement("svg",H({id:"SVGRoot",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),r?d.createElement("title",{id:n},r):null,d.createElement("defs",null,d.createElement("linearGradient",{id:"linearGradient2162",x1:7.9896,x2:7.9289,y1:1.1404,y2:12.319,gradientTransform:"rotate(-.12065 8 8.0469)",gradientUnits:"userSpaceOnUse"},d.createElement("stop",{style:{stopColor:"#00a8bb"},offset:0}),d.createElement("stop",{style:{stopColor:"#007482"},offset:1}))),d.createElement("path",{d:"m10.454 11.741 2.524-0.001505-5.0011-9.9995-4.9989 10.001 2.3973-0.005824",style:{fillOpacity:0,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,stroke:"url(#linearGradient2162)"}}))}var R=d.forwardRef(A);r.p;function Y(e){var t=e.dayID,r=(e.plotID,e.currentHour),n=e.weatherData,a=e.dataKey,o=e.plotKey,i=e.unit,s=e.sunrise,c=e.sunset;e.decimalPrecision;return Object(O.jsxs)("div",{className:"plotAndDataContainer",children:[Object(O.jsx)("div",{className:"iconContainer",children:Object(O.jsx)("ul",{children:Object(w.a)(Array(24)).map((function(e,t){return"km/h"===i?Object(O.jsx)(R,{className:"sunnyIcon",style:{transform:"rotateZ(".concat(13*t,"deg)")}}):t<12?Object(O.jsx)(U,{className:"sunnyIcon"}):Object(O.jsx)(G,{className:"sunnyIcon"})}))})}),Object(O.jsx)("div",{className:"dataContainer",children:Object(O.jsx)("ul",{children:Object(w.a)(Array(24)).map((function(e,t){return Object(O.jsx)(S,{data:n[t][a],time:t,active:r===t,sunrise:s,sunset:c},t)}))})}),Object(O.jsx)("div",{className:"plotContainer",children:Object(O.jsx)(k,{data:n,dataKey:o,dayID:t})})]})}function z(e){var t=e.dayId,r=e.weatherData,n=e.currentHour,a=e.hourOfSunrise,o=e.hourOfSunset,i=0===t?"Today":"Tomorrow",s=Object(d.useState)(0),l=Object(c.a)(s,2),u=l[0],h=l[1],f=Object(d.useRef)([0,0]),p=Object(d.useRef)([0,0]);function m(e){e.preventDefault(),e.stopPropagation();var t=p.current[0]-f.current[0],r=p.current[1]-f.current[1],n=Math.abs(t)>Math.abs(r),a=t>50&&n;t<-50&&n&&h(u<1?u+1:0),a&&h(u>0?u-1:1)}return Object(O.jsx)("div",{className:"weatherForecastForADay",onTouchStart:function(e){return(t=e).preventDefault(),f.current=[t.targetTouches[0].clientX,t.targetTouches[0].clientY],void(p.current=[t.targetTouches[0].clientX,t.targetTouches[0].clientY]);var t},onTouchMove:function(e){return(t=e).preventDefault(),void(p.current=[t.targetTouches[0].clientX,t.targetTouches[0].clientY]);var t},onTouchEnd:function(e){return m(e)},onMouseDown:function(e){return(t=e).preventDefault(),f.current=[t.clientX,t.clientY],void(p.current=[t.clientX,t.clientY]);var t},onMouseMove:function(e){return t=e,void(p.current=[t.clientX,t.clientY]);var t},onMouseUp:function(e){return m(e)},children:Object(O.jsxs)("div",{className:"contentContainer",children:[Object(O.jsx)("div",{className:"dayDisplay",children:Object(O.jsx)("h1",{children:i})}),Object(O.jsxs)("div",{className:"forecast",children:[Object(O.jsx)("div",{className:"hoursOfDay",children:Object(O.jsx)("ul",{children:Object(w.a)(Array(24)).map((function(e,t){return Object(O.jsx)(g,{time:t,active:n===t,sunrise:a,sunset:o},t)}))})}),Object(O.jsx)("div",{className:"forecastPlot",children:Object(O.jsxs)("div",{className:"plotsContainer",children:[Object(O.jsxs)("div",{className:"temperatureAndWindPlotContainer",style:{transform:"rotateY(".concat(.25*u,"turn)")},children:[Object(O.jsx)(Y,{dayID:t,plotID:"temperature",currentHour:n,weatherData:r,dataKey:"temperature",plotKey:"temperatureForPlot",unit:"\xb0C",sunrise:a,sunset:o}),Object(O.jsx)(Y,{dayID:t,plotID:"wind",currentHour:n,weatherData:r,dataKey:"wind_speed",plotKey:"wind_speed",unit:"km/h",sunrise:a,sunset:o})]}),Object(O.jsxs)("div",{className:"rainPlotContainer",style:{transform:"rotateY(".concat(.25*(u-1),"turn)")},children:[Object(O.jsx)(Y,{dayID:t,plotID:"probabilityOfPrecipitation",currentHour:n,weatherData:r,dataKey:"probabilityOfPrecipitation",plotKey:"probabilityOfPrecipitation",unit:"%",sunrise:a,sunset:o}),Object(O.jsx)(Y,{dayID:t,plotID:"rain",currentHour:n,weatherData:r,dataKey:"rain_1h",plotKey:"rain_1h",unit:"mm",sunrise:a,sunset:o,decimalPrecision:1})]})]})})]})]})})}r(40);function K(e){e.cityName,e.weatherData;return Object(O.jsxs)("div",{className:"weatherForecastForAWeek",children:[Object(O.jsx)("div",{className:"contentContainer",children:Object(O.jsx)("h1",{children:"Forecast for a week"})}),Object(O.jsx)("div",{className:"footer",children:Object(O.jsxs)("span",{children:["The weather data displayed on this website is provided by",Object(O.jsx)("a",{href:"https://openweathermap.org",children:" OpenWeather (TM)"})," under the",Object(O.jsx)("a",{href:"https://creativecommons.org/licenses/by-sa/4.0/",children:" Creative Commons Attribution-ShareAlike 4.0 International licence (CC BY-SA 4.0)"}),". Data and database are open and licensed by ",Object(O.jsx)("a",{href:"https://opendatacommons.org/licenses/odbl/",children:" Open Data Commons Open Database License (ODbL)"}),"."]})})]})}var X=r(9),B=r.n(X);function V(e){var t=new Date(1e3*e),r=t.getUTCHours(),n=t.getUTCMinutes().toString();n=1===n.length?"0"+n:n;var a=t.getUTCSeconds().toString();return r+":"+n+":"+(a=1===a.length?"0"+a:a)}function q(){return window.innerHeight}var J=function(){var e=Object(s.a)(u.a.mark((function e(t){var r,n,a,o,i,s,c,l,d,h,f,p,m,y,b,j,O,v,w,g,x,k,E,S,C,D,N,I,T,G,L,P,M,_,U,W,H;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.a.get("https://api.openweathermap.org/data/2.5/weather?q=".concat(t,"&appid=").concat("78515fbbdec3c5a2fda4e761f9f01216"));case 3:return r=e.sent,n=r.data.coord.lat,a=r.data.coord.lon,o=r.data.dt,i=r.data.dt+r.data.timezone,e.next=10,B.a.get("https://api.openweathermap.org/data/2.5/onecall/timemachine?lat=".concat(n,"&lon=").concat(a,"&dt=").concat(o,"&units=metric&appid=").concat("78515fbbdec3c5a2fda4e761f9f01216"));case 10:if(s=e.sent,c=48,l=[],d=new Date(1e3*i),h=d.getUTCHours(),!((f=s.data.hourly.length-1)<h)){e.next=25;break}return p=o-86400,e.next=20,B.a.get("https://api.openweathermap.org/data/2.5/onecall/timemachine?lat=".concat(n,"&lon=").concat(a,"&dt=").concat(p,"&units=metric&appid=").concat("78515fbbdec3c5a2fda4e761f9f01216"));case 20:for(m=e.sent,y=h-f,console.assert(y<=m.data.hourly.length),b=m.data.hourly.length-y,j=b;j<m.data.hourly.length;j++)O="rain"in m.data.hourly[j]&&m.data.hourly[j].rain["1h"]>0||"snow"in m.data.hourly[j]&&m.data.hourly[j].snow["1h"]>0,l.push({temperature:Math.round(m.data.hourly[j].temp),wind_deg:m.data.hourly[j].wind_deg,wind_speed:Math.round(3.6*m.data.hourly[j].wind_speed),cloudiness:m.data.hourly[j].clouds,weather:m.data.hourly[j].weather,probabilityOfPrecipitation:O?100:0,rain_1h:"rain"in m.data.hourly[j]?m.data.hourly[j].rain["1h"].toFixed(1):0,snow_1h:"snow"in m.data.hourly[j]?m.data.hourly[j].snow["1h"].toFixed(1):0,timeUTC:V(m.data.hourly[j].dt),timeLocal:V(m.data.hourly[j].dt+r.data.timezone),dt:m.data.hourly[j].dt});case 25:for(v=l.length,w=f-(h-v);w<f;w++)g="rain"in s.data.hourly[w]&&s.data.hourly[w].rain["1h"]>0||"snow"in s.data.hourly[w]&&s.data.hourly[w].snow["1h"]>0,l.push({temperature:Math.round(s.data.hourly[w].temp),wind_deg:s.data.hourly[w].wind_deg,wind_speed:Math.round(3.6*s.data.hourly[w].wind_speed),cloudiness:s.data.hourly[w].clouds,weather:s.data.hourly[w].weather,probabilityOfPrecipitation:g?100:0,rain_1h:"rain"in s.data.hourly[w]?s.data.hourly[w].rain["1h"].toFixed(1):0,snow_1h:"snow"in s.data.hourly[w]?s.data.hourly[w].snow["1h"].toFixed(1):0,timeUTC:V(s.data.hourly[w].dt),timeLocal:V(s.data.hourly[w].dt+r.data.timezone),dt:s.data.hourly[w].dt});return"current,minutely,alerts",e.next=31,B.a.get("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(n,"&lon=").concat(a,"&units=metric&exclude=").concat("current,minutely,alerts","&appid=").concat("78515fbbdec3c5a2fda4e761f9f01216"));case 31:for(x=e.sent,k=c-l.length,console.assert(k<=x.data.hourly.length),E=0;E<k;E++)l.push({temperature:Math.round(x.data.hourly[E].temp),wind_deg:x.data.hourly[E].wind_deg,wind_speed:Math.round(3.6*x.data.hourly[E].wind_speed),cloudiness:x.data.hourly[E].clouds,weather:x.data.hourly[E].weather,probabilityOfPrecipitation:"pop"in x.data.hourly[E]?(100*x.data.hourly[E].pop).toFixed():0,rain_1h:"rain"in x.data.hourly[E]?x.data.hourly[E].rain["1h"].toFixed(1):0,snow_1h:"snow"in x.data.hourly[E]?x.data.hourly[E].snow["1h"].toFixed(1):0,timeUTC:V(x.data.hourly[E].dt),timeLocal:V(x.data.hourly[E].dt+r.data.timezone),dt:x.data.hourly[E].dt});for(S=0,C=23,D=function(e){for(var t=[],r=S;r<=C;r++)t.push(l[r].temperature);for(var n=Math.min.apply(Math,t),a=t.map((function(e){return e-(n-1)})),o=0,i=S;i<=C;i++)l[i].temperatureForPlot=a[o],o++;S+=24,C+=24},N=0;N<2;N++)D();for(I={hourly:l},T=Date.now(),G=T+1e3*r.data.timezone,L=new Date(G),P=L.getUTCHours(),I.currentHour=P,I.hoursOfSunrise=[],I.hoursOfSunset=[],M=0;M<2;M++)_=new Date(1e3*(x.data.daily[M].sunrise+r.data.timezone)),U=_.getUTCHours(),W=new Date(1e3*(x.data.daily[M].sunset+r.data.timezone)),H=W.getUTCHours(),I.hoursOfSunrise.push(U),I.hoursOfSunset.push(H);return e.abrupt("return",Promise.resolve(I));case 51:return e.prev=51,e.t0=e.catch(0),console.log("Failed to fetch weather data within getWeatherData"),console.log(e.t0),e.abrupt("return",Promise.reject(Error(e.t0)));case 56:case"end":return e.stop()}}),e,null,[[0,51]])})));return function(t){return e.apply(this,arguments)}}();var Z=function(){var e=function(){var e=Object(d.useState)(q()),t=Object(c.a)(e,2),r=t[0],n=t[1];return Object(d.useEffect)((function(){function e(){var e=q();e>r&&n(e)}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}})),r}(),t=function(e){var t=Math.max(0,e-1),r=Object(d.useState)(0),n=Object(c.a)(r,2),a=n[0],o=n[1],i=Object(d.useRef)([0,0]),s=Object(d.useRef)(!1);return[a,function(e){e.preventDefault(),i.current=[e.targetTouches[0].clientX,e.targetTouches[0].clientY],s.current=!0},function(e){if(e.preventDefault(),s.current){var r=[e.targetTouches[0].clientX,e.targetTouches[0].clientY],n=r[0]-i.current[0],c=r[1]-i.current[1],l=Math.abs(n)<Math.abs(c),u=c>0&&l;c<0&&l&&(o(a<t?a+1:a),s.current=!1),u&&(o(a>0?a-1:a),s.current=!1)}}]}(3),r=Object(c.a)(t,3),n=r[0],a=r[1],o=r[2],i=Object(f.a)(["cityName"]),l=Object(c.a)(i,3),h=l[0],p=l[1],m=l[2],y=Object(d.useState)(h.cityName?h.cityName:""),b=Object(c.a)(y,2),j=b[0],w=b[1],g=Object(d.useState)(),x=Object(c.a)(g,2),k=x[0],E=x[1],S=Object(d.useRef)(!1),C=function(){var e=Object(s.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,D();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(s.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,S.current=!0,e.next=4,J(j);case 4:t=e.sent,p("cityName",j,{path:"/",secure:!0,sameSite:"strict",maxAge:31536e3}),E(t),e.next=15;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("Failed to fetch weather data"),console.log(e.t0),m("cityName",{path:"/",secure:!0,sameSite:"strict",maxAge:31536e3}),E();case 15:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(d.useEffect)((function(){h.cityName&&D()}),[]),Object(O.jsx)("div",{className:"App",style:{minHeight:"".concat(e,"px")},children:Object(O.jsxs)("div",{className:"websiteContent",children:[Object(O.jsx)(v,{cityName:j,updateCityName:w,reloadWeather:C}),void 0===k?Object(O.jsx)("div",{className:"noData",children:!1===S.current?Object(O.jsxs)("h1",{children:["Search for a city name.",Object(O.jsx)("br",{}),"Get the weather forecast."]}):Object(O.jsxs)("h1",{children:["Failed to get weather data.",Object(O.jsx)("br",{}),"Try another city."]})}):Object(O.jsxs)("div",{className:"sections",onTouchStart:function(e){return a(e)},onTouchMove:function(e){return o(e)},children:[Object(O.jsx)("div",{className:"container",style:{transform:"translateY(-".concat(100*n,"%)")},children:Object(O.jsx)(z,{dayId:0,weatherData:k.hourly.slice(0,24),currentHour:k.currentHour,hourOfSunrise:k.hoursOfSunrise[0],hourOfSunset:k.hoursOfSunset[0]})}),Object(O.jsx)("div",{className:"container",style:{transform:"translateY(".concat(100*(1-n),"%)")},children:Object(O.jsx)(z,{dayId:1,weatherData:k.hourly.slice(24,48),currentHour:k.currentHour,hourOfSunrise:k.hoursOfSunrise[1],hourOfSunset:k.hoursOfSunset[1]})}),Object(O.jsx)("div",{className:"container",style:{transform:"translateY(".concat(100*(2-n),"%)")},children:Object(O.jsx)(K,{cityName:h.cityName,weatherData:k})})]})]})})};o.a.render(Object(O.jsx)(i.a,{children:Object(O.jsx)(Z,{})}),document.getElementById("root"))}},[[59,1,2]]]);
//# sourceMappingURL=main.0dc7ac96.chunk.js.map