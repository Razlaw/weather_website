{"version":3,"sources":["assets/magnifying_glass.svg","components/citySearchBar/CitySearchBar.jsx","components/hourOfDayListItem/HourOfDayListItem.jsx","components/weatherForecastForADay/WeatherForecastForADay.jsx","components/weatherForecastForAWeek/WeatherForecastForAWeek.jsx","App.jsx","index.js"],"names":["_g","_excluded","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgMagnifyingGlass","_ref","svgRef","title","titleId","props","id","width","height","viewBox","xmlns","ref","stroke","cx","cy","rx","ry","fill","strokeLinecap","strokeLinejoin","strokeWidth","d","ForwardRef","CitySearchBar","cityName","updateCityName","reloadWeather","className","onSubmit","onChange","e","value","placeholder","type","autoFocus","HourOfDayListItem","time","active","setSelected","onClick","WeatherForecastForADay","dayToDisplay","currentHour","weatherData","Date","getHours","Array","map","x","hourOfDay","WeatherForecastForAWeek","href","App","useCookies","cookies","setCookie","removeCookie","useState","updateWeatherData","a","preventDefault","fetchWeather","axios","get","process","currentWeather","lat","data","coord","lon","forecast","path","secure","sameSite","console","log","response","error","useEffect","window","undefined","ReactDOM","render","CookiesProvider","document","getElementById"],"mappings":"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","file":"static/js/main.8da78499.chunk.js","sourcesContent":["var _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgMagnifyingGlass(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"SVGRoot\",\n    width: \"16px\",\n    height: \"16px\",\n    viewBox: \"0 0 16 16\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    stroke: \"#000\"\n  }, /*#__PURE__*/React.createElement(\"ellipse\", {\n    cx: 5.6727,\n    cy: 5.7476,\n    rx: 3.0967,\n    ry: 3.1013,\n    fill: \"none\",\n    strokeLinecap: \"square\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 1.7101\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m9.2387 9.2405 3.7161 3.7215\",\n    fill: \"none\",\n    strokeWidth: 1.6549\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m9.2387 10.481-1.2387-2.481 2.4774 1.2405z\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 0.46851\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgMagnifyingGlass);\nexport default __webpack_public_path__ + \"static/media/magnifying_glass.7b20c50e.svg\";\nexport { ForwardRef as ReactComponent };","import \"./citySearchBar.scss\";\r\nimport {ReactComponent as MagnifyingGlassIcon} from '../../assets/magnifying_glass.svg';\r\n\r\nexport default function CitySearchBar({cityName, updateCityName, reloadWeather}) {\r\n    return (\r\n        <div className=\"citySearchBar\">\r\n            <form onSubmit={reloadWeather}>\r\n                <div className=\"formComponents\">\r\n                    <input\r\n                        onChange={(e) => updateCityName(e.target.value)}\r\n                        placeholder={cityName === \"\" ? \"City\" : cityName}\r\n                        type=\"text\"\r\n                        id=\"cityNameInput\"\r\n                        autoFocus\r\n                    />\r\n                    <button type=\"submit\">\r\n                        <MagnifyingGlassIcon className=\"magnifyingGlassIcon\"/>\r\n                    </button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n}","import \"./hourOfDayListItem.scss\"\r\n\r\nexport default function HourOfDayListItem({time, active, setSelected}) {\r\n    return (\r\n        <li\r\n            className={active ? \"hourOfDayListItem active\" : \"hourOfDayListItem\"}\r\n            onClick={() => setSelected(time)}\r\n        >\r\n            {time}:00\r\n        </li>\r\n    );\r\n}","import \"./weatherForecastForADay.scss\";\r\nimport HourOfDayListItem from \"../hourOfDayListItem/HourOfDayListItem\";\r\nimport React from \"react\";\r\n\r\nexport default function WeatherForecastForADay({dayToDisplay, weatherData}) {\r\n    const today = new Date();\r\n    const currentHour = today.getHours();\r\n\r\n    return (\r\n        <div className=\"weatherForecastForADay\">\r\n            <div className=\"dayDisplay\">\r\n                <h1>\r\n                    {dayToDisplay}\r\n                </h1>\r\n            </div>\r\n            <div className=\"forecast\">\r\n                <div className=\"hoursOfDay\">\r\n                    <ul>\r\n                        {[...Array(24)].map((x, hourOfDay) =>\r\n                            <HourOfDayListItem\r\n                                key={hourOfDay}\r\n                                time={hourOfDay}\r\n                                active={currentHour === hourOfDay}\r\n                            />\r\n                        )}\r\n                    </ul>\r\n                </div>\r\n                <div className=\"forecastPlot\">\r\n                    <h1>\r\n                        Plot\r\n                    </h1>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import \"./weatherForecastForAWeek.scss\";\r\nimport React from \"react\";\r\n\r\nexport default function WeatherForecastForAWeek({cityName, weatherData}) {\r\n    return (\r\n        <div className=\"weatherForecastForAWeek\">\r\n            <h1>\r\n                Forecast for a week\r\n            </h1>\r\n            <div className=\"footer\">\r\n                <span>\r\n                    The weather data displayed on this website is provided by\r\n                    <a href=\"https://openweathermap.org\"> OpenWeather (TM)</a> under the\r\n                    <a href=\"https://creativecommons.org/licenses/by-sa/4.0/\"> Creative Commons Attribution-ShareAlike 4.0 International licence (CC BY-SA 4.0)</a>.\r\n                    Data and database are open and licensed by <a href=\"https://opendatacommons.org/licenses/odbl/\"> Open Data Commons Open Database License (ODbL)</a>.\r\n                </span>\r\n            </div>\r\n        </div>\r\n    );\r\n}","import \"./app.scss\";\nimport React, {useEffect, useState} from \"react\";\nimport axios from \"axios\";\nimport {useCookies} from 'react-cookie';\nimport CitySearchBar from \"./components/citySearchBar/CitySearchBar\";\nimport WeatherForecastForADay from \"./components/weatherForecastForADay/WeatherForecastForADay\";\nimport WeatherForecastForAWeek from \"./components/weatherForecastForAWeek/WeatherForecastForAWeek\";\n\nfunction App() {\n    const [cookies, setCookie, removeCookie] = useCookies(['cityName']);\n\n    const [cityName, updateCityName] = useState(cookies.cityName ? cookies.cityName : \"\");\n    const [weatherData, updateWeatherData] = useState();\n\n    const reloadWeather = async (e) => {\n        e.preventDefault();\n        await fetchWeather();\n    };\n\n    /* Fetch weather forecast from OpenWeatherMap (OWM)\n    *\n    * If fetch is successful, the current city name is saved in the cookies, so the user doesn't need to specify\n    * it again on reload.\n    * Otherwise the city name entry in the cookies is removed and the forecast data is deleted to show the user\n    * that the forecast is not available.\n    */\n    const fetchWeather = async () => {\n        try {\n            // Since OWM one call api accepts latitude and longitude coordinates only, we first fetch the current\n            // weather - containing the coordinates - using the city name and fetch the forecast using the coordinates.\n            const currentWeather = await axios.get(`https://api.openweathermap.org/data/2.5/weather?q=${cityName}&appid=${process.env.REACT_APP_API_KEY}`);\n            const lat = currentWeather.data.coord.lat;\n            const lon = currentWeather.data.coord.lon;\n            const exclude = \"current,minutely,alerts\"\n            const forecast = await axios.get(`https://api.openweathermap.org/data/2.5/onecall?lat=${lat}&lon=${lon}&units=metric&exclude=${exclude}&appid=${process.env.REACT_APP_API_KEY}`);\n            setCookie('cityName', cityName, {path: '/', secure: true, sameSite: \"strict\"});\n            console.log(forecast)\n            updateWeatherData(forecast.data);\n        } catch (error) {\n            console.log(\"Failed to fetch weather data\");\n            console.log(error.response.data.error);\n            removeCookie(\"cityName\", {path: '/', secure: true, sameSite: \"strict\"});\n            updateWeatherData();\n        }\n    };\n\n    // Fetch weather on first render if city name already defined in cookies\n    useEffect(() => {\n        if (cookies.cityName) {\n            fetchWeather();\n        }\n    }, []);\n\n    console.log(window)\n\n    return (\n        <div className=\"App\">\n            <CitySearchBar cityName={cityName} updateCityName={updateCityName} reloadWeather={reloadWeather}/>\n            {weatherData === undefined ? (\n                <div className=\"noData\">\n                    <h1>No weather data to display.</h1>\n                    <h1>Try another city.</h1>\n                </div>\n            ) : (\n                <div className=\"sections\">\n                    <WeatherForecastForADay dayToDisplay=\"Today\" weatherData={weatherData}/>\n                    <WeatherForecastForADay dayToDisplay=\"Tomorrow\" weatherData={weatherData}/>\n                    <WeatherForecastForAWeek cityName={cookies.cityName} weatherData={weatherData}/>\n                </div>\n            )}\n        </div>\n    );\n}\n\nexport default App;\n","import ReactDOM from \"react-dom\";\nimport 'semantic-ui-css/semantic.min.css';\nimport {CookiesProvider} from 'react-cookie';\n\nimport App from \"./App\";\n\nReactDOM.render(\n    <CookiesProvider>\n        <App/>\n    </CookiesProvider>,\n    document.getElementById(\"root\")\n);\n"],"sourceRoot":""}